
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Driverworks Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-4e483f2e.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

  </head>

  <body class="index" data-languages="[&quot;lua&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-3056e635.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="lua">lua</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#license-copyright-and-trademark" class="toc-h1 toc-link" data-title="License, Copyright, and Trademark">License, Copyright, and Trademark</a>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction-proxies-commands" class="toc-h2 toc-link" data-title="Proxies (Commands)">Proxies (Commands)</a>
                  </li>
                  <li>
                    <a href="#introduction-protocol-notifications" class="toc-h2 toc-link" data-title="Protocol (Notifications)">Protocol (Notifications)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#what-s-new" class="toc-h1 toc-link" data-title="What’s New">What’s New</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-2" class="toc-h2 toc-link" data-title="What’s New in 3.4.2">What’s New in 3.4.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-1" class="toc-h2 toc-link" data-title="What’s New in 3.4.1">What’s New in 3.4.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-0" class="toc-h2 toc-link" data-title="What’s New in 3.4.0">What’s New in 3.4.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-2" class="toc-h2 toc-link" data-title="What’s New in 3.3.2">What’s New in 3.3.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-1" class="toc-h2 toc-link" data-title="What’s New in 3.3.1">What’s New in 3.3.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-0" class="toc-h2 toc-link" data-title="What’s New in 3.3.0">What’s New in 3.3.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-3" class="toc-h2 toc-link" data-title="What’s New in 3.2.3">What’s New in 3.2.3</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-2" class="toc-h2 toc-link" data-title="What’s New in 3.2.2">What’s New in 3.2.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-1" class="toc-h2 toc-link" data-title="What’s New in 3.2.1">What’s New in 3.2.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-0" class="toc-h2 toc-link" data-title="What’s New in 3.2.0">What’s New in 3.2.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-3-1-2" class="toc-h2 toc-link" data-title="What was New in 3.1.2">What was New in 3.1.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-3-1-0" class="toc-h2 toc-link" data-title="What was New in 3.1.0">What was New in 3.1.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-o-s-3" class="toc-h2 toc-link" data-title="What was New in O.S.3">What was New in O.S.3</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#keypad-proxy-commands" class="toc-h1 toc-link" data-title="Keypad Proxy Commands">Keypad Proxy Commands</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#keypad-proxy-commands-overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-delete_keypad_button" class="toc-h2 toc-link" data-title="DELETE_KEYPAD_BUTTON">DELETE_KEYPAD_BUTTON</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-keypad_all_button_color" class="toc-h2 toc-link" data-title="KEYPAD_ALL_BUTTON_COLOR">KEYPAD_ALL_BUTTON_COLOR</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-keypad_all_button_color_clear" class="toc-h2 toc-link" data-title="KEYPAD_ALL_BUTTON_COLOR_CLEAR">KEYPAD_ALL_BUTTON_COLOR_CLEAR</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-keypad_button_color_clear" class="toc-h2 toc-link" data-title="KEYPAD_BUTTON_COLOR_CLEAR">KEYPAD_BUTTON_COLOR_CLEAR</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-keypad_button_action" class="toc-h2 toc-link" data-title="KEYPAD_BUTTON_ACTION">KEYPAD_BUTTON_ACTION</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-keypad_button_color" class="toc-h2 toc-link" data-title="KEYPAD_BUTTON_COLOR">KEYPAD_BUTTON_COLOR</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-keypad_button_info" class="toc-h2 toc-link" data-title="KEYPAD_BUTTON_INFO">KEYPAD_BUTTON_INFO</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-finish" class="toc-h2 toc-link" data-title="FINISH">FINISH</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-new_keypad_button" class="toc-h2 toc-link" data-title="NEW_KEYPAD_BUTTON">NEW_KEYPAD_BUTTON</a>
                  </li>
                  <li>
                    <a href="#keypad-proxy-commands-set_track_prev_button" class="toc-h2 toc-link" data-title="SET_TRACK_PREV_BUTTON">SET_TRACK_PREV_BUTTON</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#keypad-capabilities" class="toc-h1 toc-link" data-title="Keypad Capabilities">Keypad Capabilities</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#keypad-capabilities-clear_led_current_color_support" class="toc-h2 toc-link" data-title="clear_led_current_color_support">clear_led_current_color_support</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#keypad-protocol-notifications" class="toc-h1 toc-link" data-title="Keypad Protocol Notifications">Keypad Protocol Notifications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#keypad-protocol-notifications-behavior_name" class="toc-h2 toc-link" data-title="BEHAVIOR_NAME">BEHAVIOR_NAME</a>
                  </li>
                  <li>
                    <a href="#keypad-protocol-notifications-click_count" class="toc-h2 toc-link" data-title="CLICK_COUNT">CLICK_COUNT</a>
                  </li>
                  <li>
                    <a href="#keypad-protocol-notifications-delete_keypad_button" class="toc-h2 toc-link" data-title="DELETE_KEYPAD_BUTTON">DELETE_KEYPAD_BUTTON</a>
                  </li>
                  <li>
                    <a href="#keypad-protocol-notifications-keypad_button_action" class="toc-h2 toc-link" data-title="KEYPAD_BUTTON_ACTION">KEYPAD_BUTTON_ACTION</a>
                  </li>
                  <li>
                    <a href="#keypad-protocol-notifications-keypad_all_button_color" class="toc-h2 toc-link" data-title="KEYPAD_ALL_BUTTON_COLOR">KEYPAD_ALL_BUTTON_COLOR</a>
                  </li>
                  <li>
                    <a href="#keypad-protocol-notifications-keypad_button_color" class="toc-h2 toc-link" data-title="KEYPAD_BUTTON_COLOR">KEYPAD_BUTTON_COLOR</a>
                  </li>
                  <li>
                    <a href="#keypad-protocol-notifications-keypad_button_info" class="toc-h2 toc-link" data-title="KEYPAD_BUTTON_INFO">KEYPAD_BUTTON_INFO</a>
                  </li>
                  <li>
                    <a href="#keypad-protocol-notifications-led_behavior_name" class="toc-h2 toc-link" data-title="LED_BEHAVIOR_NAME">LED_BEHAVIOR_NAME</a>
                  </li>
                  <li>
                    <a href="#keypad-protocol-notifications-new_keypad_button" class="toc-h2 toc-link" data-title="NEW_KEYPAD_BUTTON">NEW_KEYPAD_BUTTON</a>
                  </li>
                  <li>
                    <a href="#keypad-protocol-notifications-online_changed" class="toc-h2 toc-link" data-title="ONLINE_CHANGED">ONLINE_CHANGED</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#keypad-button-link-bindings" class="toc-h1 toc-link" data-title="Keypad Button Link Bindings">Keypad Button Link Bindings</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#keypad-button-link-bindings-keypad-button-link-bindings" class="toc-h2 toc-link" data-title="KEYPAD BUTTON LINK BINDINGS">KEYPAD BUTTON LINK BINDINGS</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://snap-one.github.io/docs-driverworks-introduction/'>An Introduction to DriverWorks</a></li>
            <li><a href='https://snap-one.github.io/docs-driverworks-fundamentals/'>DriverWorks Fundamentals Guide</a></li>
            <li><a href='https://snap-one.github.io/docs-driverworks-api/'>DriverWorks API Reference Guide</a></li>
            <li><a href='https://github.com/snap-one/docs-driverworks'>DriverWorks GitHub Home</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='license-copyright-and-trademark'>License, Copyright, and Trademark</h1>

<p>The content contained in this repository is the intellectual property of Snap One, LLC, (formerly known as Wirepath Home Systems, LLC), and use without a valid license from Snap One is strictly prohibited. The user of this repository shall keep all content contained herein confidential and shall protect this content in whole or in part from disclosure to any and all third parties except as specifically authorized in writing by Snap One.</p>

<p><strong>License and Intellectual Property Disclaimer</strong></p>

<p>The content in this repository is provided in connection with Snap One products. No license, express or implied, by estoppal or otherwise, to any intellectual property rights is granted by this document or in this repository. Except as provided in Snap Oneʼs terms and conditions for the license of such products, Snap One and its affiliates assume no liability whatsoever and disclaim any express or implied warranty, relating to the sale and/or use of Snap One products including liability or warranties relating to fitness for a particular purpose, merchantability, or infringement of any patent, copyright or other intellectual property right. Snap One products are not intended for use in medical, lifesaving, or life sustaining applications.</p>

<p>Information regarding third-party products is provided solely for educational purposes. Snap One is not responsible for the performance or support of third-party products and does not make any representations or warranties whatsoever regarding the quality, reliability, functionality or compatibility of these products. The reader is advised that third parties can have intellectual property rights that can be relevant to this repository and the technologies discussed herein, and is advised to seek the advice of competent legal counsel regarding the intellectual property rights of third parties, without obligation of Snap One.</p>

<p>Snap One retains the right make changes to this repository or related product specifications and descriptions in this repository, at any time, without notice. Snap One makes no warranty for the use of this repository and assumes no responsibility for any errors that can appear in the repository nor does it make a commitment to update the content contained herein.</p>

<p><strong>Copyright</strong></p>

<p>Copyright 2024 Snap One, LLC. All rights reserved.</p>

<p>The above copyright notice applies to all content in this repository unless otherwise stated explicitly herein that a third-party’s copyright applies.</p>

<p>No part of this publication may be reproduced, photocopied, stored on a retrieval system, or transmitted without the express written consent of the publisher.</p>

<p><strong>Trademarks</strong></p>

<p>Snap One and Snap One Logo, Control4 and the Control4 logo, and DriverWorks are trademarks or registered trademarks of  Snap One, LLC. Other product and company names mentioned in this repository may be the trademarks or registered trademarks of their respective owners.</p>

<p><strong> Derivative Works</strong></p>

<p>To the extent that you create any “Derivative Work” (meaning any work that is based upon one or more preexisting versions of the work provided to you in this repository, such as an enhancement or modification, revision, translation, abridgement, condensation, expansion, collection, compilation or any other form in which such preexisting works may be recast, modified, transformed or adapted, explicitly including without limitation, any updates or changes to Snap One, LLC’s software code or intellectual property) such Derivative Work shall be owned by Snap One, LLC and all right, title and interest in and to each such Derivative Work shall automatically vest in Snap One, LLC. To the extent any Derivative Work does not automatically vest in Snap One, LLC by operation of law, you hereby assign such Derivative Work to Snap One, LLC with full title guarantee. Snap One, LLC shall have no obligation to grant you any right in any such Derivative Work.</p>

<p><strong>Contact Us</strong></p>

<p>Snap One, LLC
11734 S. Election Road
Salt Lake City, UT 84020 USA</p>

<p><a href="www.control4.com">http://www.control4.com</a></p>
<h1 id='introduction'>Introduction</h1>

<p>This documentation includes content that details the functions that make up the Keypad Control Proxy which is supported in the DriverWorks Software Development Kit.</p>

<h2 id='introduction-proxies-commands'>Proxies (Commands)</h2>

<p>A proxy driver is an interface to the Control4 system for a set of devices that share common functionality. For instance, most Keypads have common controls such as KEYPAD BUTTON ACTION and KEYPAD BITTON INFO.  The Keypad proxy allows for a common user interface to control all keypads. The Control4 system (Director) sends information to and receives information from the proxy drivers.  The proxy drivers send information to and receives information from the protocol drivers.
Remember, your DriverWorks driver interacts with the proxy driver which then interacts with the system.  As a driver developer you will be relying on this proxy to provide status (notification) to the Control4 system for the device you are controlling.  You will also receive commands from the system that you will act on to control the device.  These commands and notifications are at the heart of what you will be implementing in your driver.  Essentially your driver is becoming the go-between from the Control4 system and your device with the proxy driver giving structure to the commands and notifications which you will be implementing.
Your driver can facilitate communications with multiple types of proxies for a single device. As an example, a Security System driver will utilize both the Security proxy and the Contacts proxy. These additional proxies are configured in the &lt;connections&gt; section of the .c4z.</p>

<h2 id='introduction-protocol-notifications'>Protocol (Notifications)</h2>

<p>Two similar devices may have the same functionality but utilize a very different command set.  A protocol driver provides the device-specific information needed to communicate with the Control4 system.  In the case of DriverWorks, the DriverWorks driver is the protocol driver.  When combined with the device-specific.c4Z file it provides the custom code necessary to implement the 2-way device driver.  In the case of DriverWorks, the DriverWorks driver is the protocol driver. When combined with the device-specific.c4Z file it provides the custom code necessary to implement the 2-way device driver.</p>
<h1 id='what-s-new'>What’s New</h1>

<h2 id='what-s-new-what-s-new-in-3-4-2'>What’s New in 3.4.2</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.4.2.</p>

<h2 id='what-s-new-what-s-new-in-3-4-1'>What’s New in 3.4.1</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.4.1.</p>

<h2 id='what-s-new-what-s-new-in-3-4-0'>What’s New in 3.4.0</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.4.0.</p>

<h2 id='what-s-new-what-s-new-in-3-3-2'>What’s New in 3.3.2</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.3.2.</p>

<h2 id='what-s-new-what-s-new-in-3-3-1'>What’s New in 3.3.1</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.3.1.</p>

<h2 id='what-s-new-what-s-new-in-3-3-0'>What’s New in 3.3.0</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.3.0.</p>

<h2 id='what-s-new-what-s-new-in-3-2-3'>What’s New in 3.2.3</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.2.3.</p>

<h2 id='what-s-new-what-s-new-in-3-2-2'>What’s New in 3.2.2</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.2.2.</p>

<h2 id='what-s-new-what-s-new-in-3-2-1'>What’s New in 3.2.1</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.2.1.</p>

<h2 id='what-s-new-what-s-new-in-3-2-0'>What’s New in 3.2.0</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.2.0.</p>

<h2 id='what-s-new-what-was-new-in-3-1-2'>What was New in 3.1.2</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.1.2.</p>

<h2 id='what-s-new-what-was-new-in-3-1-0'>What was New in 3.1.0</h2>

<p>There were no modifications to the Keypad Proxy in conjunction with O.S. Release 3.1.0.</p>

<h2 id='what-s-new-what-was-new-in-o-s-3'>What was New in O.S.3</h2>

<p><strong>KeyPad Proxy</strong></p>

<p>New Button Linking functionality has been added to the Proxy. Button Linking supports the ability of a driver interacting with a second driver using Button State and Button LED State. </p>
<h1 id='keypad-proxy-commands'>Keypad Proxy Commands</h1>

<h2 id='keypad-proxy-commands-overview'>Overview</h2>

<p>This section describes describe the basic functionality of the Keypad Proxy. This proxy was introduced into the system in version 2.5.0, along with the gen3 lighting drivers. It is designed to be fairly generic, but there are a few capabilities that only Control4 keypads use such as <code>track_previous_button</code>. It should also work for fixed multi-row keypads. Configurable multi-row keypads are not supported with this proxy.</p>

<h2 id='keypad-proxy-commands-delete_keypad_button'>DELETE_KEYPAD_BUTTON</h2>

<p>Used to delete a specific button from the keypad</p>

<h3 id='keypad-proxy-commands-delete_keypad_button-name'>Name</h3>

<p><code>DELETE_KEYPAD_BUTTON ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>ID value of the button to be deleted</td>
</tr>
</tbody></table>

<h3 id='keypad-proxy-commands-delete_keypad_button-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-proxy-commands-keypad_all_button_color'>KEYPAD_ALL_BUTTON_COLOR</h2>

<p>Used to set the color for all buttons on a keypad.</p>

<h3 id='keypad-proxy-commands-keypad_all_button_color-name'>Name</h3>

<p><code>KEYPAD_ALL_BUTTON_COLOR ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>OFF_COLOR</code></td>
<td>INT</td>
<td>ID value of the button to be deleted</td>
</tr>
<tr>
<td><code>ON_COLOR</code></td>
<td>INT</td>
<td>The new on/push color for the keypad</td>
</tr>
<tr>
<td><code>CURRENT_COLOR</code></td>
<td>INT</td>
<td>The color the keypad should immediately go to</td>
</tr>
</tbody></table>

<h3 id='keypad-proxy-commands-keypad_all_button_color-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-proxy-commands-keypad_all_button_color_clear'>KEYPAD_ALL_BUTTON_COLOR_CLEAR</h2>

<p>Used to clear the color for all buttons on a keypad.</p>

<h3 id='keypad-proxy-commands-keypad_all_button_color_clear-signature'>Signature</h3>

<p><code>KEYPAD_ALL_BUTTON_COLOR_CLEAR ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>OFF_COLOR</code></td>
<td>ID value of the buttons to be deleted</td>
</tr>
<tr>
<td><code>ON_COLOR</code></td>
<td>The new on/push color for the keypad</td>
</tr>
<tr>
<td><code>CURRENT_COLOR</code></td>
<td>The color the keypad should immediately go to</td>
</tr>
</tbody></table>

<h3 id='keypad-proxy-commands-keypad_all_button_color_clear-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-proxy-commands-keypad_button_color_clear'>KEYPAD_BUTTON_COLOR_CLEAR</h2>

<p>Used to clear the color for a button on a keypad.</p>

<h3 id='keypad-proxy-commands-keypad_button_color_clear-signature'>Signature</h3>

<p><code>KEYPAD_BUTTON_COLOR_CLEAR ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>OFF_COLOR</code></td>
<td>ID value of the button to be deleted</td>
</tr>
<tr>
<td><code>ON_COLOR</code></td>
<td>The new on/push color for the keypad</td>
</tr>
<tr>
<td><code>CURRENT_COLOR</code></td>
<td>The color the keypad should immediately go to</td>
</tr>
</tbody></table>

<h3 id='keypad-proxy-commands-keypad_button_color_clear-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-proxy-commands-keypad_button_action'>KEYPAD_BUTTON_ACTION</h2>

<p>Used to send remote commands to the keypad to have it act as if a button on the keypad was actually used.</p>

<h3 id='keypad-proxy-commands-keypad_button_action-name'>Name</h3>

<p><code>KEYPAD_BUTTON_ACTION ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ACTION</td>
<td>NUM</td>
<td>The action performed on the keypad: 0 = Release, 1 = Push, 2 = Click</td>
</tr>
<tr>
<td>BUTTON ID</td>
<td>INT</td>
<td>The ID of the button where the action is performed.</td>
</tr>
</tbody></table>

<h3 id='keypad-proxy-commands-keypad_button_action-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-proxy-commands-keypad_button_color'>KEYPAD_BUTTON_COLOR</h2>

<p>Used to set the color for a specific button on a keypad.</p>

<h3 id='keypad-proxy-commands-keypad_button_color-name'>Name</h3>

<p><code>KEYPAD_BUTTON_COLOR ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>OFF_COLOR</code></td>
<td>ID value of the button to be deleted</td>
</tr>
<tr>
<td><code>ON_COLOR</code></td>
<td>The new on/push color for the keypad</td>
</tr>
<tr>
<td><code>CURRENT_COLOR</code></td>
<td>The color the keypad should immediately go to</td>
</tr>
</tbody></table>

<h3 id='keypad-proxy-commands-keypad_button_color-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-proxy-commands-keypad_button_info'>KEYPAD_BUTTON_INFO</h2>

<p>Used to change the settings on a particular button.</p>

<h3 id='keypad-proxy-commands-keypad_button_info-name'>Name</h3>

<p><code>KEYPAD_BUTTON_INFO ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>INT</td>
<td>The ID of the button being changed</td>
</tr>
<tr>
<td>NAME</td>
<td>STR</td>
<td>The name of the button (optional)</td>
</tr>
<tr>
<td>ON COLOR</td>
<td>STR</td>
<td>The on/press color for the button (optional)</td>
</tr>
<tr>
<td>OFF COLOR</td>
<td>STR</td>
<td>The off/release color for the button (optional)</td>
</tr>
<tr>
<td>ENGRAVING</td>
<td>STR</td>
<td>The engraved name for the button (optional)</td>
</tr>
<tr>
<td>BUTTON BEHAVIOR</td>
<td>INT</td>
<td>The behavior for the button (optional)</td>
</tr>
<tr>
<td>LED BEHAVIOR</td>
<td>INT</td>
<td>The LED behavior for the button (optional)</td>
</tr>
<tr>
<td>STATE</td>
<td>BOOL</td>
<td>Used to indicate which color the button should use. A value of true means use the on/push color, a value of false means use the off/release color.</td>
</tr>
<tr>
<td>MATCH LED STATE</td>
<td>BOOL</td>
<td>Similar to state, but should only be applied if the LED is tracking a bound device.</td>
</tr>
</tbody></table>

<h3 id='keypad-proxy-commands-keypad_button_info-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-proxy-commands-finish'>FINISH</h2>

<p>Used to send a finish value to the proxy. Only used if the <code>custom_finishes</code> capability is set to true in the protocol driver
Valid values are:</p>

<ul>
<li>0 = White</li>
<li>1 = Light Almond</li>
<li>2 = Ivory</li>
<li>3 = Brown</li>
<li>4 = Black</li>
<li>5 = Aluminum</li>
<li>6 = Snow White</li>
<li>7 = Biscuit</li>
<li>8 = Midnight Black</li>
</ul>

<h3 id='keypad-proxy-commands-finish-signature'>Signature</h3>

<p><code>FINISH ()</code></p>

<h3 id='keypad-proxy-commands-finish-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-proxy-commands-new_keypad_button'>NEW_KEYPAD_BUTTON</h2>

<p>Used to create a new button on the keypad. This is sent to the protocol by the proxy when the proxy is loaded. Thus the protocol doesn&#39;t have to store all its buttons settings, the proxy will do it.</p>

<h3 id='keypad-proxy-commands-new_keypad_button-name'>Name</h3>

<p><code>NEW_KEYPAD_BUTTON ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>INT</td>
<td>The ID of the button being changed</td>
</tr>
<tr>
<td>NAME</td>
<td>STR</td>
<td>The name of the button (optional)</td>
</tr>
<tr>
<td>ON COLOR</td>
<td>STR</td>
<td>The on/press color for the button (optional)</td>
</tr>
<tr>
<td>OFF COLOR</td>
<td>STR</td>
<td>The off/release color for the button (optional)</td>
</tr>
<tr>
<td>BUTTON BEHAVIOR</td>
<td>INT</td>
<td>The behavior for the button (optional)</td>
</tr>
<tr>
<td>LED BEHAVIOR</td>
<td>INT</td>
<td>The LED behavior for the button (optional)</td>
</tr>
<tr>
<td>SLOTS</td>
<td>NUM</td>
<td>The number of slots the button takes up on the keypad.</td>
</tr>
</tbody></table>

<h3 id='keypad-proxy-commands-new_keypad_button-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-proxy-commands-set_track_prev_button'>SET_TRACK_PREV_BUTTON</h2>

<p>Indicates whether the keypad should track the previous button being used. This mainly for Control4 Configurable keypad devices (zigbee, wired, combo, etc)</p>

<h3 id='keypad-proxy-commands-set_track_prev_button-name'>Name</h3>

<p><code>SET_TRACK_PREV_BUTTON N ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MODE</td>
<td>BOOL</td>
<td>Support button tracking</td>
</tr>
</tbody></table>

<h3 id='keypad-proxy-commands-set_track_prev_button-returns'>Returns</h3>

<p><code>None</code></p>
<h1 id='keypad-capabilities'>Keypad Capabilities</h1>

<h2 id='keypad-capabilities-clear_led_current_color_support'>clear_led_current_color_support</h2>

<p>Enabling this capability allows the Keypad Proxy to clear keypad button(s) color. Previously, this had to be done at the protocol level. Specifically, this is applicable to button colors that have been set programmatically in Composer Pro. Enabling this capability in your driver will expose two new Keypad Proxy Programming Action in Composer Pro: Clear LED Current and Clear All LED Current.</p>

<p><h6 id='keypad-capabilities-clear_led_current_color_support-returns-available-from-3-4-2'>Available from 3.4.2.</h6><h3 id='keypad-capabilities-clear_led_current_color_support-signature'>Signature</h3>
<p><code>&lt;clear_led_current_color_support&gt;&lt;/clear_led_current_color_support&gt;</code></p>
<h3 id='keypad-capabilities-clear_led_current_color_support-type'>Type</h3>
<p>Boolean. Defaults to false</p>
<h3 id='keypad-capabilities-clear_led_current_color_support-dynamic-capability'>Dynamic Capability</h3>
<p>No</p>
<h3 id='keypad-capabilities-clear_led_current_color_support-usage-note'>Usage Note</h3>
<p>In conjunction with this capabilities’ use, Drivers need to implement the following Proxy Commands:</p></p>

<p><a href="https://miniature-adventure-p8z6k7k.pages.github.io/#keypad-proxy-commands-keypad_button_color_clear">KEYPAD_BUTTON_COLOR_CLEAR</a> - A Notify must be sent when this command is received containing the new button color for the indicated button using the KEYPAD_BUTTON_COLOR notification.</p>

<p><a href="https://miniature-adventure-p8z6k7k.pages.github.io/#keypad-proxy-commands-keypad_all_button_color_clear">KEYPAD_ALL_BUTTON_COLOR_CLEAR</a> - A Notify must be sent when this command is received containing the new button colors for each button using the KEYPAD_BUTTON_COLOR notification.</p>

<p><h3 id='keypad-capabilities-clear_led_current_color_support-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;clear_led_current_color_support&gt;</span>true<span class="nt">&lt;/clear_led_current_color_support&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div></p>
<h1 id='keypad-protocol-notifications'>Keypad Protocol Notifications</h1>

<h2 id='keypad-protocol-notifications-behavior_name'>BEHAVIOR_NAME</h2>

<p>Used to inform (or update) the proxy of a button behavior name</p>

<h3 id='keypad-protocol-notifications-behavior_name-name'>Name</h3>

<p><code>BEHAVIOR_NAME ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>NUM</td>
<td>The ID of the behavior to send when selected by the user.</td>
</tr>
<tr>
<td>NAME</td>
<td>STR</td>
<td>The string to display to the user for the behavior.</td>
</tr>
</tbody></table>

<h3 id='keypad-protocol-notifications-behavior_name-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-protocol-notifications-click_count'>CLICK_COUNT</h2>

<p>Used to inform the proxy that a button has been clicked multiple times. This is used by the proxy to fire the proper event (single, double, triple click, etc).</p>

<h3 id='keypad-protocol-notifications-click_count-name'>Name</h3>

<p><code>CLICK_COUNT ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>NUM</td>
<td>The ID of the button clicked by the user.</td>
</tr>
<tr>
<td>COUNT</td>
<td>NUM</td>
<td>The number of times the button was clicked</td>
</tr>
</tbody></table>

<h3 id='keypad-protocol-notifications-click_count-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-protocol-notifications-delete_keypad_button'>DELETE_KEYPAD_BUTTON</h2>

<p>Used to inform the proxy that a button is being deleted</p>

<h3 id='keypad-protocol-notifications-delete_keypad_button-name'>Name</h3>

<p><code>DELETE_KEYPAD_BUTTON ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>NUM</td>
<td>The ID of the button to be deleted.</td>
</tr>
</tbody></table>

<h3 id='keypad-protocol-notifications-delete_keypad_button-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-protocol-notifications-keypad_button_action'>KEYPAD_BUTTON_ACTION</h2>

<p>Used by the protocol to inform the proxy that some type of action occurred on a button. The proxy will then update colors, send the proper command to the bound device, etc.</p>

<h3 id='keypad-protocol-notifications-keypad_button_action-name'>Name</h3>

<p><code>KEYPAD_BUTTON_ACTION ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>TypeDescription</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>NUM</td>
<td>The ID of the button to be deleted.</td>
</tr>
<tr>
<td>ACTION</td>
<td>NUM</td>
<td>The action performed on the keypad: 0 = Release, 1 = Push, 2 = Click, 3 = Double Click, 4 = Triple Click</td>
</tr>
</tbody></table>

<h3 id='keypad-protocol-notifications-keypad_button_action-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-protocol-notifications-keypad_all_button_color'>KEYPAD_ALL_BUTTON_COLOR</h2>

<p>Used by the protocol to inform the proxy of a change in color for every button on the keypad.</p>

<h3 id='keypad-protocol-notifications-keypad_all_button_color-name'>Name</h3>

<p><code>KEYPAD_ALL_BUTTON_COLOR ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ON COLOR</td>
<td>STR</td>
<td>The new on color for the button in RGB hex string.</td>
</tr>
<tr>
<td>OFF COLOR</td>
<td>OFF COLOR</td>
<td>OFF COLOR</td>
</tr>
<tr>
<td>CURRENT COLOR</td>
<td>STR</td>
<td>The new current color for the button in RGB hex string.</td>
</tr>
<tr>
<td>COLOR</td>
<td>STR</td>
<td>The new on and off color for the button in RGB hex string.</td>
</tr>
</tbody></table>

<h3 id='keypad-protocol-notifications-keypad_all_button_color-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-protocol-notifications-keypad_button_color'>KEYPAD_BUTTON_COLOR</h2>

<p>This is used by the protocol to inform the proxy that it has been instructed to change the color of a button.</p>

<h3 id='keypad-protocol-notifications-keypad_button_color-name'>Name</h3>

<p><code>KEYPAD_BUTTON_COLOR ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>NUM</td>
<td>The ID of the button whose color is changing.</td>
</tr>
<tr>
<td>ON COLOR</td>
<td>STR</td>
<td>The new on color for the button in RGB hex string.</td>
</tr>
<tr>
<td>OFF COLOR</td>
<td>STR</td>
<td>The new off color for the button in RGB hex string.</td>
</tr>
<tr>
<td>CURRENT COLOR</td>
<td>STR</td>
<td>The new current color for the button in RGB hex string.</td>
</tr>
<tr>
<td>COLOR</td>
<td>STR</td>
<td>The new on and off color for the button in RGB hex string.</td>
</tr>
</tbody></table>

<h3 id='keypad-protocol-notifications-keypad_button_color-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-protocol-notifications-keypad_button_info'>KEYPAD_BUTTON_INFO</h2>

<p>Used by the protocol to inform the proxy of a changed setting for a particular button. It can have multiple parameters, but the only required one is <code>BUTTON_ID</code>.</p>

<h3 id='keypad-protocol-notifications-keypad_button_info-name'>Name</h3>

<p><code>KEYPAD_BUTTON_INFO ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>BUTTON ID: The ID of the button whose color is changing.</td>
</tr>
<tr>
<td>str</td>
<td>NAME: The name of the button This will cause binding names to be updated.</td>
</tr>
<tr>
<td>str</td>
<td>ENGRAVING: The engraving for the button.</td>
</tr>
<tr>
<td>str</td>
<td>ON COLOR: The new on color for the button in RGB hex string.</td>
</tr>
<tr>
<td>str</td>
<td>OFF COLOR: The new off color for the button in RGB hex string.</td>
</tr>
<tr>
<td>str</td>
<td>CURRENT COLOR:  The new current color for the button in RGB hex string.</td>
</tr>
<tr>
<td>str</td>
<td>COLOR:  The new on and off color for the button in RGB hex string.</td>
</tr>
<tr>
<td>STATE</td>
<td>The current state of the button, so the proxy knows what color the button is using (state \&gt; 0 means on-color)</td>
</tr>
<tr>
<td>LED BEHAVIOR</td>
<td>The assigned behavior of the LED associated with this button.</td>
</tr>
<tr>
<td>BUTTON BEHAVIOR</td>
<td>The assigned behavior for this button.</td>
</tr>
</tbody></table>

<h3 id='keypad-protocol-notifications-keypad_button_info-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-protocol-notifications-led_behavior_name'>LED_BEHAVIOR_NAME</h2>

<p>Used to inform (or update) the proxy of a LED&#39;s behavior name</p>

<h3 id='keypad-protocol-notifications-led_behavior_name-name'>Name</h3>

<p><code>LED_BEHAVIOR_NAME ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>NUM</td>
<td>The ID of the LED behavior to send when selected by the user.</td>
</tr>
<tr>
<td>NAME</td>
<td>STER</td>
<td>The name of the button This will cause binding names to be updated.</td>
</tr>
</tbody></table>

<h3 id='keypad-protocol-notifications-led_behavior_name-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-protocol-notifications-new_keypad_button'>NEW_KEYPAD_BUTTON</h2>

<p>Used to inform the proxy about the existence of a new button on the keypad. If the specified button already exists, this notification will do nothing.</p>

<h3 id='keypad-protocol-notifications-new_keypad_button-name'>Name</h3>

<p><code>NEW_KEYPAD_BUTTON ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>BUTTON ID: The ID of the button whose color is changing.</td>
</tr>
<tr>
<td>str</td>
<td>NAME: The name of the button This will cause binding names to be updated.</td>
</tr>
<tr>
<td>str</td>
<td>ON COLOR: The new on color for the button in RGB hex string.</td>
</tr>
<tr>
<td>str</td>
<td>OFF COLOR: The new off color for the button in RGB hex string.</td>
</tr>
<tr>
<td>str</td>
<td>ENGRAVING: The engraving for the button.</td>
</tr>
<tr>
<td>num</td>
<td>SLOTS: The size of the button.</td>
</tr>
<tr>
<td>BUTTON BEHAVIOR</td>
<td>The assigned behavior for this button.</td>
</tr>
<tr>
<td>LED BEHAVIOR</td>
<td>The assigned behavior of the LED associated with this button.</td>
</tr>
<tr>
<td>bool</td>
<td>LOCK COLORS:  - Whether the colors for this button should be locked in Composer Pro. TRUE/FALSE Note - The user will not be allowed to change them if True.</td>
</tr>
</tbody></table>

<h3 id='keypad-protocol-notifications-new_keypad_button-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='keypad-protocol-notifications-online_changed'>ONLINE_CHANGED</h2>

<p>Used by the protocol to notify the proxy if the device is online or offline. The payload of the notify message is a boolean indicating true/false</p>

<h3 id='keypad-protocol-notifications-online_changed-name'>Name</h3>

<p><code>ONLINE_CHANGED ()</code></p>

<h3 id='keypad-protocol-notifications-online_changed-parameter'>Parameter</h3>

<p><code>None</code></p>

<h3 id='keypad-protocol-notifications-online_changed-returns'>Returns</h3>

<p><code>None</code></p>
<h1 id='keypad-button-link-bindings'>Keypad Button Link Bindings</h1>

<h2 id='keypad-button-link-bindings-keypad-button-link-bindings'>KEYPAD BUTTON LINK BINDINGS</h2>

<p>BUTTON_LINK bindings are a way for drivers to interact with other drivers that either expose a physical or virtual Keypad Button or for drivers that want to integrate with drivers that have a physical or virtual button.  Button State and LED State information are the information that can be passed between the drivers.  For example, a Control4 Keypad exposes a BUTTON_LINK binding that the Tune-In driver integrates with so a user can select a playlist or change songs via a Control4 Physical Keypad.  </p>

<p>BUTTON_LINK was designed and assumes button and led functionality is the same between all keypad button hardware existing in the Control4 project, which causes some drivers to have to sometimes have incomplete or even fake functionality, ie: Button Release or Button Color functionality because some Non-Control4 physical keypads do not have LEDs.  Also hardware/drivers do not have an API that allows drivers to interrogate hardware for what is supported.  Some new devices also have specific double and triple click support which is newer. Note that older drivers were not updated to support those multi-press calls that go over BUTTON_LINK bindings.  There is also no limit to what can be sent over a BUTTON_LINK as it&#39;s purely just a passage. </p>

<p>A driver making use of another drivers physical keypad buttons will typically support the following Commands and Notifies and will check the binding ID of the messages of the bound call command to know which button (BUTTON_LINK) the message applies to.</p>

<p><strong>Commands</strong></p>

<p><code>DO_PUSH</code>
Button was Pushed. Driver can expect to get a CLICK or RELEASE sometime in the future.  If a driver does not care if the button is held or clicked, Control4 recommends executing native driver&#39;s functionality on Press rather than waiting for the upcoming CLICK or RELEASE.</p>

<p><code>DO_CLICK</code>
Button was Clicked, not held. Driver can expect to get a CLICK or RELEASE sometime in the future.  If a driver does not care if the button is held or clicked, Control4 recommends executing native driver&#39;s functionality on Press rather than waiting for the upcoming CLICK or RELEASE</p>

<p><code>DO_RELEASE</code>
Button was finally released. Note that drivers might tie up Director between a users physical PUSH and RELEASE. For example, a half second push may appear to the driver as many seconds of being held. This could result in causing unwanted results such as &quot;runaway&quot; volume or light ramping. There is no way to detect or work around this at the current time.</p>

<p><code>REQUEST_BUTTON_COLORS</code>
Causes the driver to respond back with <code>BUTTON_COLORS</code> and <code>MATCH_LED_STATE</code> calls to let the other end of the binding know what the colors and state of them are._ </p>

<p><code>SET_BUTTON_COLOR</code>
Used to set the color of a button, this command name can be unique or non-existent for some drivers but this should be followed to make mass setting LED&#39;s possible from driver to driver.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>str</td>
<td>BUTTON ID: String of the button, often used by a driver or proxy to lookup which of its buttons its setting. Sometimes it can be auto determined by which binding it came in on.</td>
</tr>
</tbody></table>

<p><strong>Notifications</strong></p>

<p><code>BUTTON_COLORS</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>str</td>
<td>ON COLOR: COLOR STR type, value of string such as &quot;ffccbb&quot;</td>
</tr>
<tr>
<td>str</td>
<td>OFF COLOR: COLOR STR type, value of a string such as &quot;000000&quot;</td>
</tr>
</tbody></table>

<p><code>MATCH_LED_STATE</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>STATE: Boolean if the Off (0/false) or On (1/true) color should be active.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="lua">lua</a>
          </div>
      </div>
    </div>
  </body>
</html>
